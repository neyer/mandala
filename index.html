<html>
    <head>
</style>

  <script src="http:///s3.neyer.me/js/jquery.min.js"></script>
  <script>
$(document).ready(function(){

    c = document.getElementById("draw-canvas");
    var ctx = c.getContext("2d");

    var lineBorder = 10;
    var CanvasWidth = 800, CanvasHeight = 800;
    var lineWidth = 20;
    var lineSpacing = 5;
    // 7 colors, but some are more bigger than others
    var triangleHeight = CanvasHeight/(2*7*2);
    var squareSize = triangleHeight;

    // overall animation cycle frequency
    var PulseInterval = 4000;


  // as the user clicks, we will add to this list
    var clickDurations = [];
    var maxIntervals = (CanvasWidth-lineBorder*2)/(lineWidth+lineSpacing) - 1;

    // first draw a box around it
    function drawBorder() {
      ctx.beginPath();
      ctx.moveTo(lineBorder, lineBorder);
      ctx.lineTo(CanvasWidth-lineBorder, lineBorder);
      ctx.lineTo(CanvasWidth-lineBorder, CanvasHeight-lineBorder);
      ctx.lineTo(lineBorder, CanvasHeight-lineBorder);
      ctx.closePath();
      ctx.stroke();
    };

    drawBorder();


    // the goal here is to draw some shapes of varying sizes
    // a large number of shapes with small sizes
    // and a small number of shapes with large sizes

    function clearBox() {
      ctx.fillStyle = 'rgba(0,0,0,0.1)';
      ctx.fillRect(0,0,CanvasWidth,CanvasHeight);
    }

    function drawRedTriangle(timestamp) {
        ctx.beginPath();
        // rotate according to the time
        ctx.translate(CanvasWidth/2.0, CanvasHeight/2.0);
        ctx.rotate(Math.PI*2*timestamp/PulseInterval);
        ctx.moveTo(0, - triangleHeight);
        // 30 degress in radians
        var angle = Math.PI/6.0;
        // CanvasHeights are inverted here; -y axis means go 'up' on the screen
        ctx.lineTo(triangleHeight*Math.cos(-angle), - triangleHeight*Math.sin(-angle));
        ctx.lineTo(triangleHeight*Math.cos(Math.PI+angle), - triangleHeight*Math.sin(Math.PI+angle));
         ctx.closePath();
         ctx.fillStyle = "red";
         ctx.fill();
         ctx.resetTransform();
      
    }

    function drawOrangeSquares(timestamp) {
        ctx.beginPath();
        // rotate according to the time
        ctx.translate(CanvasWidth/2.0, CanvasHeight/2.0);
        ctx.rotate(-Math.PI*2*timestamp/PulseInterval);
        ctx.moveTo(-squareSize, - squareSize);
        // 30 degress in radians
        ctx.lineTo(squareSize, - squareSize);
        ctx.lineTo(squareSize, squareSize);
        ctx.lineTo(-squareSize, squareSize);
        ctx.closePath();
        ctx.fillStyle = "rgb(252,107,3)";
        ctx.fill();
        ctx.resetTransform();
    }

    var starburstWidth = triangleHeight/5.0;
    var starburstHeight= triangleHeight*2.0;
    var starburstHeightVariance = starburstHeight*0.25;
    var numBursts = 32
    function drawYellowStarburst(timestamp) {
        ctx.beginPath();
        // rotate according to the time
        ctx.translate(CanvasWidth/2.0, CanvasHeight/2.0);

        var angle = 2*Math.PI/numBursts;
        for (var  i = 0; i < numBursts; ++i) {
        // CanvasHeights are inverted here; -y axis means go 'up' on the screen
          ctx.moveTo(-starburstWidth, 0);
          ctx.lineTo(0, starburstHeight+starburstHeightVariance*(Math.sin(2*Math.PI*timestamp/PulseInterval)));
          ctx.lineTo(starburstWidth, 0);
          ctx.closePath();
          ctx.fillStyle = "yellow";
          ctx.fill();
          ctx.rotate(angle);
        }
        ctx.resetTransform();
    }


   var earthCoreRadius = triangleHeight*4;
   function drawBrownCircle(timestamp) {
        ctx.resetTransform();
        ctx.translate(CanvasWidth/2.0, CanvasHeight/2.0);
        ctx.beginPath();
        ctx.arc(0, 0,  earthCoreRadius, 0, 2*Math.PI);
        ctx.closePath();
        ctx.fillStyle = "rgb(122,73,0)";
        ctx.fill();
        ctx.resetTransform();
    }

    var numCircles = 128;
    var circleOffset = earthCoreRadius;
    var circleRadius = triangleHeight/2;
    var circleScales = [];
    for (var i = 0; i < numCircles; ++i) {
      circleScales.push(Math.random());
    }
    function drawGreenCircles(timestamp) {
        ctx.beginPath();
        // rotate according to the time
        ctx.translate(CanvasWidth/2.0, CanvasHeight/2.0);

        var angle = 2*Math.PI/numBursts;
        for (var  i = 0; i < numCircles; ++i) {
        // CanvasHeights are inverted here; -y axis means go 'up' on the screen
          var thisPhase =(circleScales[i]+timestamp/(PulseInterval*4))*Math.PI*2;
          var thisSize = (1+Math.sin(thisPhase));
          ctx.beginPath();
          ctx.arc(0, circleOffset, thisSize*circleRadius, 0, 2*Math.PI);
          ctx.closePath();
          ctx.fillStyle = "green";
          ctx.fill();
          ctx.rotate(angle);
          // grow this circle

        }
        ctx.resetTransform();
    }

   var atmosphereRadius = earthCoreRadius*2;
   function drawBlueCircle(timestamp) {
        var grd = ctx.createRadialGradient(0,0, earthCoreRadius, 0,0, atmosphereRadius);
        grd.addColorStop(0, "skyblue");
        grd.addColorStop(1, "purple");

        ctx.resetTransform();
        ctx.translate(CanvasWidth/2.0, CanvasHeight/2.0);
        ctx.beginPath();
        ctx.arc(0, 0,  atmosphereRadius, 0, 2*Math.PI);
        ctx.closePath();
        ctx.fillStyle = grd;
        ctx.fill();
        ctx.resetTransform();
    }


   var exosphereRadius = atmosphereRadius*1.1;
   function drawPurpleCircle(timestamp) {
        var grd = ctx.createRadialGradient(0,0, atmosphereRadius, 0,0, exosphereRadius);
        grd.addColorStop(0, "purple");
        grd.addColorStop(1, "black");
        
        // Fill with gradient
        ctx.resetTransform();
        ctx.translate(CanvasWidth/2.0, CanvasHeight/2.0);
        ctx.beginPath();
        ctx.arc(0, 0,  exosphereRadius, 0, 2*Math.PI);
        ctx.closePath();
        ctx.fillStyle = grd;
        ctx.fill();
        ctx.resetTransform();
    }


    var numStars = 128;
    var starSpots = [];
    var starRadius = 2;
    for (var i = 0; i < numStars; ++i) {
      var x = Math.random()*CanvasWidth;
      var y = Math.random()*CanvasHeight;
      starSpots[i] = [x,y];
    }
    function drawStars() {
      for (var i = 0; i < starSpots.length; ++i) {
        // Fill with gradient
        ctx.resetTransform();
        ctx.translate(starSpots[i][0], starSpots[i][1]);
        ctx.beginPath();
        ctx.arc(0, 0,  starRadius, 0, 2*Math.PI);
        ctx.closePath();
        ctx.fillStyle = "white";
        ctx.fill();
        ctx.resetTransform();
      }
    }


    var start = null;
    var breathTimeMs = 5000;
    var cycleTimeMs = breathTimeMs*4;
    function drawAll(timestamp) {
      clearBox();
      // Draw in color-reverse order
      drawStars(timestamp);
      drawPurpleCircle(timestamp);
      drawBlueCircle(timestamp);
      drawGreenCircles(timestamp);
      drawBrownCircle(timestamp);
      drawYellowStarburst(timestamp);
      drawOrangeSquares(timestamp);
      drawRedTriangle(timestamp);
      //
      requestAnimationFrame(drawAll);
    }

  window.requestAnimationFrame(drawAll);
    
});
</script>
</head>
<body>
  <canvas id="draw-canvas" width="800" height="800"></canvas>
</body>
</html>

